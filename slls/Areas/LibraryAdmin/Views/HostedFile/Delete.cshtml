@using Westwind.Globalization
@model slls.ViewModels.HostedFilesViewModel

@*<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <h3 class="modal-title" id="deleteLabel">Confirm Delete @DbRes.T("Titles.Title", "FieldDisplayName")?</h3>
</div>*@

@Html.Partial("_ModalEditHeader")

@using (Html.BeginForm("PostDelete","HostedFile"))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary()
    @Html.HiddenFor(x => Model.FileId)

    <div class="modal-body">

        <div class="alert alert-danger" role="alert">
            <strong>Are you sure you want to delete this @DbRes.T("Hosted_Files.File", "FieldDisplayName").ToLower()?</strong>
            <p>Deleting this @DbRes.T("Hosted_Files.File", "FieldDisplayName").ToLower() will also delete any associated @DbRes.T("TitleLinks", "EntityType").ToLower().</p>
            <p><strong>Note: </strong>This will <i>only</i> delete the hosted copy of this @DbRes.T("Hosted_Files.File", "FieldDisplayName").ToLower(): It does does not affect the original local or network file in any way.</p>
        </div>

        <div>
            <dl class="dl-horizontal">
                <dt>
                    @Html.DisplayNameFor(model => model.FileName)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.FileName)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Path)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Path)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.InputDate)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.InputDate)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.CreateDate)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.CreateDate)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.LastUpdateDate)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.LastUpdateDate)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.TitleLinks)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.TitleLinks)
                </dd>

            </dl>
        </div>
    </div>

    <div class="modal-footer">
        <button type="submit" id="btnDelete" value="Delete" class="btn btn-danger"><span aria-hidden="true" class="glyphicon glyphicon-trash"></span> Delete @DbRes.T("Hosted_Files.File", "FieldDisplayName")</button>
        &nbsp;&nbsp;or&nbsp;<button class="btn-link" data-dismiss="modal" aria-hidden="true">Cancel</button>
    </div>
}

@*<script type="text/javascript">
    $(function () {
        $('#btnCancel').click(function () {
            $('#lrgModal').modal('hide');
            $('#stdModal').modal('hide');
        });

        $('form').submit(function (e) {
            e.preventDefault();
            $.post(this.action, $(this).serialize(), function (response) {
                if (response.error) {
                    alert(response.error);
                }
                else {
                    $('#stdModal').modal('hide');
                    $('#lrgModal').modal('hide');
                    location.reload();
                }
            }, 'json');
        });
    });
</script>*@


